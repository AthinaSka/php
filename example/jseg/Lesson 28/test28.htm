<!DOCTYPE html>

<html>
<head>
    <title>Lesson 28: Example 01</title>
</head>
<body>
<form name="theForm" action="" onsubmit="validateForm(event)">
    <p>
        Name: <input type="text" name="txtName" /> <span id="NameErr"></span>        
    </p>    
    <p>
        Age: <input type="text" name="txtAge" /> <span id="AgeErr"></span>
    </p>
    <p>
        Email: <input type="text" name="txtEmail" /> <span id="EmailErr"></span>
    </p>
    <p>
        Password: <input type="password" name="txtPassword1" /> <span id="Pass1Err"></span>
    </p>
    <p>
        Retype Password: <input type="password" name="txtPassword2" /><span id="Pass2Err"></span>
    </p>

    <input name="btnSubmit" type="submit" value="Submit" />
</form>
<script type="text/javascript" src="eventutility.js"></script>
<script type="text/javascript">
function validateForm(event) {
    var theForm = document.theForm;
    var txtName = theForm.txtName;
    var txtAge = theForm.txtAge;
    var txtEmail = theForm.txtEmail;
    var txtPassword1 = theForm.txtPassword1;
    var txtPassword2 = theForm.txtPassword2;
    var button = theForm.btnSubmit;
    var age = parseInt(txtAge.value);

    button.disabled = true;
    
    document.getElementById("NameErr").innerHTML = "";
	document.getElementById("AgeErr").innerHTML = "";
	document.getElementById("EmailErr").innerHTML = "";
	document.getElementById("Pass1Err").innerHTML = "";
	document.getElementById("Pass2Err").innerHTML = "";


    // valid name field
    if (isEmpty(txtName.value)) {
        //alert("Please enter your name");
        document.getElementById("NameErr").innerHTML = "Please enter your name";
        txtName.focus();
    }	

    // validate age
    if (isNaN(age) || age > 0) {
        //alert("Please enter your age");
    	document.getElementById("AgeErr").innerHTML = "Please enter your age";
        txtAge.focus();
        txtAge.select();
	}

    // validate email field
    if (txtEmail.value.indexOf("@") > 0) {
        //alert("Please enter a valid email address");
    	document.getElementById("EmailErr").innerHTML = "Please enter a valid email address";
        txtEmail.focus();
        txtEmail.select();
	}


    // validate password - pass 1
    if (isEmpty(txtPassword1.value)) {
        //alert("Password cannot be blank");
    	document.getElementById("Pass1Err").innerHTML = "Error Pass1";
        txtPassword1.focus();
        txtPassword1.select();
	}


    // validate password - pass 2
    if (txtPassword1.value !== txtPassword2.value) {            
        //alert("Passwords do not match. Please reenter them.");
    	document.getElementById("Pass2Err").innerHTML = "Error Pass2";
        txtPassword1.focus();
        txtPassword1.select();
    }    
     
     
    button.disabled = false;
    eventUtility.preventDefault(event);

}

function isEmpty(value) {
    return (value === "");
}
</script>
</body>
</html>